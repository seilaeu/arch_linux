loadkeys pt-latin9
mkfs.btrfs -f -L "arch" /dev/sdaX 
mount /dev/sdaX /mnt
btrfs sub create /mnt/@
btrfs sub create /mnt/@home
umount /mnt
mount -o relatime,space_cache=v2,compress=zstd,ssd,discard,nodev,subvol=@ /dev/sdaX /mnt
mkdir -p /mnt/{boot/efi,home} 

pacstrap -i /mnt/ base base-devel
genfstab -U -p /mnt >> /mnt/etc/fstab

arch-chroot /mnt

echo "pt_PT.UTF-8 UTF-8" > /etc/locale.gen  
locale-gen

echo "LANG=pt_PT.UTF-8" > /etc/locale.conf
export LANG=pt_PT.UTF-8

echo "FONT=default8x16" > /etc/vconsole.conf 
echo "KEYMAP=pt-latin9" >> /etc/vconsole.conf 

ln -sf /usr/share/zoneinfo/Europe/Lisbon /etc/localtime 

hwclock --systohc --utc

echo arkosta > /etc/hostname

#pacman -Syu

#useradd -m -G wheel,storage,power,optical,audio,video -s /bin/bash kaparicano
#passwd kaparicano

# nano /etc/sudoers
# (Descomentar linha wheel)

#pacman -S grub btrfs-progs os-prober
#grub-install --target=i386-pc --force /dev/sdaX

