Detecção de hardware:

# lspci | grep -i VGA

Gen 9.5 CoffeLake

Para suporte a OpenCL:

# emerge - av intel-compute-runtime

Para sistemas que usem Skylake ou mais recente é necessario instalar:

# emerge -av linux-firmware


Para configurar é compilar DMC firmware no kernel, neste caso, i915/skl_dmc_ver1_27.bin:

Device Drivers  --->
    Generic Driver Options  --->
            Firmware loader  --->
                -*- Firmware loading facility
                (i915/skl_dmc_ver1_27.bin) Build named firmware blobs into the kernel binary
                (/lib/firmware) Firmware blobs root directory
Aviso:

Including the firmware in-kernel may cause suspend-to-ram to fail, if this is a concern don't include the blob built into the kernel, instead, add the firmware blob into the initramfs.

GuC/HuC firmware

# nano /etc/default/grub

na linha do kernel colocar i915.enable_guc=3

Aviso:
Enabling GuC/HuC firmware loading could cause issues on some systems, disable it if you experience freezing (for example, after resuming from hibernation).

To identify the firmware file name, either by checking /var/log/kern.log:

Or by grepping the MODULE_FIRMWARE in kernel source tree:

user $grep -rB1 'MODULE_FIRMWARE.*SKL' /usr/src/linux/drivers/gpu/drm/i915

Then configure to build the firmware file into the kernel as above.

Kernel
The following kernel options need to be activated:

Since kernel version 4.4 the driver has been moved and the legacy fbdev support is now CONFIG_DRM_FBDEV_EMULATION=y.

KERNEL Linux 5.4
Device Drivers  --->
            Graphics support  --->
                <*> /dev/agpgart (AGP Support)  --->
                    --- /dev/agpgart (AGP Support)
                    -*-   Intel 440LX/BX/GX, I8xx and E7x05 chipset support
                <*> Direct Rendering Manager (XFree86 4.1.0 and higher DRI support)  --->
                    --- Direct Rendering Manager (XFree86 4.1.0 and higher DRI support)
                    [*]   Enable legacy fbdev support for your modesetting driver
                <*> Intel 8xx/9xx/G3x/G4x/HD Graphics
                [ ]   Enable alpha quality support for new Intel hardware by default
                ()    Force probe driver for selected new Intel hardware
                [*]   Enable capturing GPU state following a hang
                [*]     Compress GPU error state
                [*]   Always enable userptr support
                [ ]   Enable Intel GVT-g graphics virtualization host support

# nano /etc/portage/make.conf a partir de Gen 8:

VIDEO_CARDS="intel i965 iris"

The intel value is for x11-base/xorg-drivers. 
The i915 and i965 and iris values are for media-libs/mesa.

Importante:

Beginning with x11-base/xorg-drivers-1.19, the x11-base/xorg-drivers package (in addition to the mesa package) includes support for the i965 USE flag. 
This will omit selection of the deprecating x11-drivers/xf86-video-intel driver in favor of the more maintained, generic modesetting DDX driver built into x11-base/xorg-server.

After making any make.conf modifications, update the system so the changes take effect by passing the --changed-use --deep options to emerge:

# emerge --ask --changed-use --deep @world

Enable early KMS

In order to enable Kernel Mode Setting (KMS) as soon as possible, modesetting either needs to be built into the kernel, or be loaded with initramfs if it is built as a module. 
Distribution Kernels have the Modesetting DDX built as a module. So, in order to get early KMS, those who use it have to create a .conf file in /etc/dracut.conf.d and do the following:

FILE /etc/dracut.conf.d/......conf

add_drivers+="... i915 ..."

# dracut


